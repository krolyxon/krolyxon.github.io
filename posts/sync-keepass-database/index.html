<!DOCTYPE html>
<html lang="en">
<head>
  
    <title>Syncing keepass database between android and desktop with rsync :: Krolyxon&#39;s site</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Introduction to keepass Everyone should use password managers, because remembering unique passwords is difficult. There are many great password FOSS password managers such as bitwarden, keepass, keepassxc etc. I wouldnt recommend using bitwarden because its cloud based, Your password database is being stored in cloud, and it makes me really paranoid. because there are thousands of users using it, so a lot of hackers trying to hack bitwarden&rsquo;s server. bitwarden allows you to self-host it, so you can host it in your own server.
" />
<meta name="keywords" content="[krolyxon blogs tech]" />

  <meta name="robots" content="noodp" />

<link rel="canonical" href="/posts/sync-keepass-database/" />





  
  <link rel="stylesheet" href="/css/buttons.min.86f6b4c106b6c6eb690ae5203d36b442c1f66f718ff4e8164fa86cf6c61ad641.css">

  
  <link rel="stylesheet" href="/css/code.min.a3670726bb66927824e4c3fa3f20388aacc1e7aa65014ae144e350ce59593b78.css">

  
  <link rel="stylesheet" href="/css/fonts.min.5bb7ed13e1d00d8ff39ea84af26737007eb5051b157b86fc24487c94f3dc8bbe.css">

  
  <link rel="stylesheet" href="/css/footer.min.eb8dfc2c6a7eafa36cd3ba92d63e69e849e2200e0002a228d137f236b09ecd75.css">

  
  <link rel="stylesheet" href="/css/gist.min.a751e8b0abe1ba8bc53ced52a38b19d8950fe78ca29454ea8c2595cf26aad5c0.css">

  
  <link rel="stylesheet" href="/css/header.min.75c7eb0e2872d95ff48109c6647d0223a38db52e2561dd87966eb5fc7c6bdac6.css">

  
  <link rel="stylesheet" href="/css/main.min.15870410d15d02abd22fb5ef00996f65a00d04b3a7435e9f83831c7c2298de88.css">

  
  <link rel="stylesheet" href="/css/menu.min.3c17467ebeb3d38663dce68f71f519901124fa5cbb4519b2fb0667a21e9aca39.css">

  
  <link rel="stylesheet" href="/css/pagination.min.bbb986dbce00a5ce5aca0504b7925fc1c581992a4bf57f163e5d69cc1db7d836.css">

  
  <link rel="stylesheet" href="/css/post.min.e6dddd258e64c83e05cec0cd49c05216742d42fc8ecbfbe6b67083412b609bd3.css">

  
  <link rel="stylesheet" href="/css/syntax.min.a0773cce9310cb6d8ed23e50f005448facf29a53001b57e038828daa466b25c0.css">

  
  <link rel="stylesheet" href="/css/terminal.min.e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css">

  
  <link rel="stylesheet" href="/css/terms.min.b81791663c3790e738e571cdbf802312390d30e4b1d8dc9d814a5b5454d0ac11.css">







<link rel="shortcut icon" href="/favicon.png">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">


<meta name="twitter:card" content="summary" />

  
    <meta name="twitter:site" content="" />
  
    <meta name="twitter:creator" content="" />



<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Syncing keepass database between android and desktop with rsync">
<meta property="og:description" content="Introduction to keepass Everyone should use password managers, because remembering unique passwords is difficult. There are many great password FOSS password managers such as bitwarden, keepass, keepassxc etc. I wouldnt recommend using bitwarden because its cloud based, Your password database is being stored in cloud, and it makes me really paranoid. because there are thousands of users using it, so a lot of hackers trying to hack bitwarden&rsquo;s server. bitwarden allows you to self-host it, so you can host it in your own server.
" />
<meta property="og:url" content="/posts/sync-keepass-database/" />
<meta property="og:site_name" content="Krolyxon&#39;s site" />

  <meta property="og:image" content="/og-image.png">

<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="627">


  <meta property="article:published_time" content="2022-09-18 00:00:00 &#43;0000 UTC" />












</head>
<body>


<div class="container center">

  <header class="header">
  <div class="header__inner">
    <div class="header__logo">
      <a href="/">
  <div class="logo">
    Krolyxon
  </div>
</a>

    </div>
    
      <ul class="menu menu--mobile">
  <li class="menu__trigger">Menu&nbsp;▾</li>
  <li>
    <ul class="menu__dropdown">
      
        
          <li><a href="/about">About Me</a></li>
        
      
        
          <li><a href="/contact">Contact</a></li>
        
      
        
          <li><a href="/links">Links</a></li>
        
      
        
          <li><a href="/tags">Tags</a></li>
        
      
      
    </ul>
  </li>
</ul>

    
    
  </div>
  
    <nav class="navigation-menu">
  <ul class="navigation-menu__inner menu--desktop">
    
      
        
          <li><a href="/about" >About Me</a></li>
        
      
        
          <li><a href="/contact" >Contact</a></li>
        
      
      
        <li>
          <ul class="menu">
            <li class="menu__trigger">Show more&nbsp;▾</li>
            <li>
              <ul class="menu__dropdown">
                
                  
                    <li><a href="/links" >Links</a></li>
                  
                
                  
                    <li><a href="/tags" >Tags</a></li>
                  
                
              </ul>
            </li>
          </ul>
        </li>
      
    
  </ul>
</nav>

  
</header>


  <div class="content">
    
<article class="post">
  <h1 class="post-title">
    <a href="/posts/sync-keepass-database/">Syncing keepass database between android and desktop with rsync</a>
  </h1>
  <div class="post-meta"><time class="post-date">2022-09-18&nbsp;[Updated:  2022-09-18]</time></div>

  
  


  
    <div class="table-of-contents">
      <h2>
        Table of Contents
      </h2>
      <nav id="TableOfContents"></nav>
    </div>
  

  <div class="post-content"><div>
        <h1 id="introduction-to-keepass">Introduction to keepass<a href="#introduction-to-keepass" class="hanchor" ariaLabel="Anchor">#</a> </h1>
<p>Everyone should use password managers, because remembering unique passwords is difficult.
There are many great password FOSS password managers such as bitwarden, keepass, keepassxc etc.
I wouldnt recommend using bitwarden because its cloud based,
Your password database is being stored in cloud, and it makes me really paranoid.
because there are thousands of users using it, so a lot of hackers trying to hack bitwarden&rsquo;s server.
bitwarden allows you to self-host it, so you can host it in your own server.</p>
<p>But you know, your boy is still paranoid. So i will go with keepassxc because its completely offlilne.
You can read the installation instructions and read more about it on <a href="https://keepassxc.org">keepassxc.org</a>
However, we are going focus more about how to sync the password database created from keepassxc on
your desktop and cellphone(android).</p>
<p>After you are done installing keepassxc on your desktop,
install <a href="https://www.keepassdx.com/">keepassdx</a> on your cellphone,
To access your encrypted password database from your cellphone.</p>
<h1 id="sync-the-database-between-both-devices">Sync the database between both devices.<a href="#sync-the-database-between-both-devices" class="hanchor" ariaLabel="Anchor">#</a> </h1>
<ol>
<li>Install <a href="https://rsync.samba.org/">rsync</a> and ssh(obviously&hellip;) on your desktop.</li>
<li>Install termux on your cellphone.</li>
<li>install <code>rsync</code> &amp; <code>openssh</code> on termux by running <code>pkg install openssh rsync</code></li>
<li>start ssh server on termux by running <code>sshd</code></li>
<li>get your local ip adress of your cellphone by running <code>ifconfig</code></li>
</ol>
<p>Once you are done with that, go to the terminal on your desktop and run this command:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">rsync -vrP --delete --rsh<span class="o">=</span><span class="s1">&#39;ssh -p 8022&#39;</span> ~/passdb/on/desktop.kbdx username@ip:passdb/on/cellphone.kbdx 
</span></span></code></pre></div><p>here i specify the port with <code>--rsh='ssh -p 8022'</code> because specifying it with <code>--port</code> flag didng work for me.
repace your username with your username and local ip adress of termux in <code>username@ip</code>.
and repace the paths in the commands to where your password database is stored in your desktop and cellphone.
and here we go, it will sync the database.</p>
<p>However, i wanted to go further and make it a bit <em>automaticish</em>, so i ended up with this script.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="cp">#!/bin/sh
</span></span></span><span class="line"><span class="cl"><span class="cp"></span><span class="c1"># paths of database file locations in android and desktop</span>
</span></span><span class="line"><span class="cl"><span class="nv">anpath</span><span class="o">=</span><span class="s2">&#34;storage/shared/path/to/pass-database.kdbx&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nv">deskpath</span><span class="o">=</span><span class="s2">&#34;path/to/pass-database.kdbx&#34;</span> 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># getting last modified date</span>
</span></span><span class="line"><span class="cl"><span class="nv">desktop</span><span class="o">=</span><span class="k">$(</span>stat -c%Y <span class="nv">$deskpath</span><span class="k">)</span>
</span></span><span class="line"><span class="cl"><span class="nv">android</span><span class="o">=</span><span class="k">$(</span>ssh android -t stat -c%Y <span class="nv">$anpath</span><span class="k">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># syncing the database between both devices by calculating</span>
</span></span><span class="line"><span class="cl"><span class="c1"># in which device the password database was last modified.</span>
</span></span><span class="line"><span class="cl"><span class="c1"># not syncing anything if there was no change.</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="o">[</span> <span class="nv">$android</span> -lt <span class="nv">$desktop</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
</span></span><span class="line"><span class="cl">  <span class="nb">echo</span> <span class="s2">&#34;transferring from desktop to android&#34;</span>
</span></span><span class="line"><span class="cl">  rsync -vrtP <span class="nv">$deskpath</span> android:<span class="nv">$anpath</span> 
</span></span><span class="line"><span class="cl"><span class="k">elif</span> <span class="o">[</span> <span class="nv">$desktop</span> -lt <span class="nv">$android</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
</span></span><span class="line"><span class="cl">  <span class="nb">echo</span> <span class="s2">&#34;transferring from android to desktop&#34;</span>
</span></span><span class="line"><span class="cl">  rsync -vrtP android:<span class="nv">$anpath</span> <span class="nv">$deskpath</span>
</span></span><span class="line"><span class="cl"><span class="k">elif</span> <span class="o">[</span> <span class="nv">$desktop</span> -eq <span class="nv">$android</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
</span></span><span class="line"><span class="cl">  <span class="nb">echo</span> <span class="s2">&#34;nothing was modified, not syncing&#34;</span>
</span></span><span class="line"><span class="cl"><span class="k">fi</span>
</span></span></code></pre></div><p>When i run this script, it will check in which device i had the password database last modified,
and sync the password databse from desktop to cellphone if it was last modified on my desktop computer and vice versa.</p>
<p>Thank you for reading my blog with bajillions of spelling &amp; grammar mistakes.</p>

      </div></div>

  
    
<div class="pagination">
  <div class="pagination__title">
    <span class="pagination__title-h">Read other posts</span>
    <hr />
  </div>
  <div class="pagination__buttons">
    
      <a href="/posts/auto-cpufreq-is-all-you-need/" class="button inline prev">
        &lt; [<span class="button__text">auto-cpufreq Is All You Need</span>]
      </a>
    
    
      ::
    
    
      <a href="/posts/turning-on-pc-without-power-button/" class="button inline next">
         [<span class="button__text">How to boot a computer without pressing power button</span>] &gt;
      </a>
    
  </div>
</div>


  

  
    

  
</article>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright">
        <span>© 2025  Krolyxon</span>
    
        <span>:: <a href="https://github.com/panr/hugo-theme-terminal" target="_blank">Theme</a> by <a href="https://github.com/panr" target="_blank">panr</a></span>
      </div>
  </div>
</footer>

<script src="/assets/main.js"></script>
<script src="/assets/prism.js"></script>







  
</div>

</body>
</html>
